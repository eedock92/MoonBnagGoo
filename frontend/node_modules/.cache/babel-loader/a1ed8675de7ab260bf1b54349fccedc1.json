{"ast":null,"code":"var _jsxFileName = \"D:\\\\ByungSoo\\\\DEV\\\\potfolio\\\\ecommerce_react\\\\frontend\\\\src\\\\screens\\\\OrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { getOrderDetails } from '../actions/orderActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OrderScreen = ({\n  match\n}) => {\n  _s();\n\n  const orderId = match.params.id;\n  const [sdkReady, setSdkReady] = useState(false);\n  const dispatch = useDispatch();\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order,\n    loading,\n    error\n  } = orderDetails;\n\n  if (!loading) {// order.itemsPrice = order.orderItems.reduce((acc, item) => acc + order.item.price * order.item.qty, 0)\n  }\n\n  useEffect(() => {\n    const addPayPalScript = async () => {\n      const {\n        data: clientId\n      } = await axios.get('/api/config/paypal');\n      const script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\n      script.async = true;\n\n      script.onload = () => {\n        setSdkReady(true);\n      };\n\n      document.body.appendChild(script);\n    };\n\n    if (!order || order._id !== orderId) {\n      dispatch(getOrderDetails(orderId));\n    }\n  }, [dispatch, order, orderId]);\n  return loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 22\n  }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n    variant: \"danger\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"\\uC8FC\\uBB38\\uBC88\\uD638 \", order._id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(ListGroup, {\n          variant: \"flush\",\n          children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uBC30\\uC1A1\\uC9C0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC774\\uB984 : \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 28\n              }, this), \" \", order.user.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC774\\uBA54\\uC77C : \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 28\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `mailto:${order.user.email}`,\n                children: order.user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC8FC\\uC18C : \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 32\n              }, this), order.shippingAddress.address, \",\", order.shippingAddress.city, \",\", order.shippingAddress.postalCode, \",\", ' ', order.shippingAddress.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 28\n            }, this), order.isDelived ? /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"success\",\n              children: [\"\\uBC30\\uB2EC\\uC644\\uB8CC \", order.DelivedAt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"danger\",\n              children: \"\\uBC30\\uB2EC\\uC900\\uBE44\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uACB0\\uC81C \\uBC29\\uBC95\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uC9C0\\uBD88 \\uC120\\uD0DD :\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 29\n              }, this), order.paymentMethod]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), order.isPaid ? /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"success\",\n              children: [\"\\uACB0\\uC81C\\uC644\\uB8CC \", order.paidAt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(Message, {\n              variant: \"danger\",\n              children: \"\\uBBF8\\uACB0\\uC81C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uC8FC\\uBB38 \\uC0C1\\uD488\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), order.orderItems.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {\n              children: \"\\uC8FC\\uBB38\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n              varaiant: \"flush\",\n              children: order.orderItems.map((item, index) => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 1,\n                    children: /*#__PURE__*/_jsxDEV(Image, {\n                      src: item.image,\n                      alt: item.name,\n                      fluid: true,\n                      rounded: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/product/${item.product}`,\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: [item.price, \"\\uC6D0 X \", item.qty, \"\\uAC1C = \", item.qty * item.price, \"\\uC6D0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 49\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"\\uC8FC\\uBB38 \\uC694\\uC57D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"\\uC8FC\\uBB38 \\uC0C1\\uD488\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 36\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: \" \\uC6D0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"\\uBC30\\uC1A1\\uBE44\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.shippingPrice, \"\\uC6D0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"\\uAD00\\uC138 \\uBC0F \\uBD80\\uACFC\\uC138 \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 36\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.taxPrice, \"\\uC6D0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: \"\\uC8FC\\uBB38 \\uCD1D\\uC561\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 36\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [order.totalPrice, \"\\uC6D0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 32\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(OrderScreen, \"nfcCx9FxqSEoPt2wtRPG1lXstHQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = OrderScreen;\nexport default OrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"sources":["D:/ByungSoo/DEV/potfolio/ecommerce_react/frontend/src/screens/OrderScreen.js"],"names":["React","useState","useEffect","axios","Link","Row","Col","ListGroup","Image","Card","useDispatch","useSelector","Message","Loader","getOrderDetails","OrderScreen","match","orderId","params","id","sdkReady","setSdkReady","dispatch","orderDetails","state","order","loading","error","addPayPalScript","data","clientId","get","script","document","createElement","type","src","async","onload","body","appendChild","_id","user","name","email","shippingAddress","address","city","postalCode","country","isDelived","DelivedAt","paymentMethod","isPaid","paidAt","orderItems","length","map","item","index","image","product","price","qty","shippingPrice","taxPrice","totalPrice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport {Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { getOrderDetails } from '../actions/orderActions'\r\n\r\nconst OrderScreen = ({match}) => {\r\n    const orderId = match.params.id\r\n\r\n    const [sdkReady, setSdkReady] = useState(false)\r\n    \r\n    const dispatch = useDispatch()\r\n\r\n  \r\n    const orderDetails = useSelector(state => state.orderDetails)\r\n    const { order, loading, error } = orderDetails \r\n\r\n   \r\n     if(!loading){\r\n        // order.itemsPrice = order.orderItems.reduce((acc, item) => acc + order.item.price * order.item.qty, 0)\r\n     }\r\n\r\n    useEffect(() => {\r\n        const addPayPalScript = async () => {\r\n            const { data: clientId } = await axios.get('/api/config/paypal')\r\n            const script = document.createElement('script')\r\n            script.type = 'text/javascript'\r\n            script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n            script.async = true\r\n            script.onload = () => {\r\n                setSdkReady(true)\r\n            }\r\n            document.body.appendChild(script)\r\n         }\r\n\r\n        \r\n\r\n        if(!order || order._id !== orderId){\r\n            dispatch(getOrderDetails(orderId))\r\n        }\r\n    }, [ dispatch, order ,orderId,])\r\n\r\n\r\n\r\n    return loading ? <Loader /> : error ? \r\n    <Message variant='danger'>{error}</Message> : \r\n    <> \r\n        <h1>주문번호 {order._id}</h1>\r\n        <Row>\r\n               <Col md={8}>\r\n                   <ListGroup variant='flush'>\r\n                       <ListGroup.Item>\r\n                           <h2>배송지</h2>\r\n                           <p>\r\n                           <strong>이름 : </strong> {order.user.name}\r\n                           </p>\r\n                           <p>\r\n                           <strong>이메일 : </strong> <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n                           </p>\r\n                           <p>\r\n                               <strong>주소 : </strong>\r\n                               {order.shippingAddress.address},\r\n                               {order.shippingAddress.city},\r\n                               {order.shippingAddress.postalCode},{' '}\r\n                               {order.shippingAddress.country}\r\n                           </p>\r\n                           {order.isDelived ? (\r\n                                <Message variant='success'>배달완료 {order.DelivedAt}</Message>\r\n                            ) : (\r\n                                <Message variant='danger'>배달준비</Message>\r\n                            )}\r\n                       </ListGroup.Item>\r\n\r\n                       <ListGroup.Item>\r\n                            <h2>결제 방법</h2>\r\n                            <p>\r\n                            <strong>지불 선택 :</strong>\r\n                            {order.paymentMethod}\r\n                            </p>\r\n                            {order.isPaid ? (\r\n                                <Message variant='success'>결제완료 {order.paidAt}</Message>\r\n                            ) : (\r\n                                <Message variant='danger'>미결제</Message>\r\n                            )}\r\n                            \r\n                            \r\n                       </ListGroup.Item>\r\n\r\n                       <ListGroup.Item>\r\n                            <h2>주문 상품</h2>\r\n                            {order.orderItems.length === 0 ? \r\n                                <Message>주문이 없습니다</Message> : (\r\n                                    <ListGroup varaiant='flush'>\r\n                                        {order.orderItems.map((item, index) => (\r\n                                            <ListGroup.Item key={index}>\r\n                                                <Row>\r\n                                                    <Col md={1}>\r\n                                                        <Image \r\n                                                        src={item.image} \r\n                                                        alt={item.name}\r\n                                                        fluid \r\n                                                        rounded\r\n                                                        />\r\n                                                    </Col>\r\n\r\n                                                    <Col>\r\n                                                        <Link to={`/product/${item.product}`}>\r\n                                                            {item.name}\r\n                                                        </Link>\r\n                                                    </Col>\r\n                                                    <Col md={4}>\r\n                                                          {item.price}원 X {item.qty}개 = {item.qty * item.price}원\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                )}\r\n                       </ListGroup.Item>\r\n                   </ListGroup>\r\n               </Col>\r\n\r\n               <Col md={4}>\r\n                   <Card>\r\n                       <ListGroup variant='flush'>\r\n                           <ListGroup.Item>\r\n                               <h2>주문 요약</h2>                     \r\n                           </ListGroup.Item>\r\n\r\n                           <ListGroup.Item>\r\n                               <Row>\r\n                                   <Col>주문 상품</Col>   \r\n                                        <Col> 원</Col>                                                              \r\n                               </Row>\r\n                           </ListGroup.Item>\r\n                            \r\n                           <ListGroup.Item>\r\n                                <Row>\r\n                                    <Col>배송비</Col>\r\n                                    <Col>{order.shippingPrice}원</Col>\r\n                                </Row>                  \r\n                           </ListGroup.Item>\r\n\r\n                           <ListGroup.Item>\r\n                               <Row>\r\n                                   <Col>관세 및 부과세 </Col>\r\n                                   <Col>{order.taxPrice}원</Col>\r\n                               </Row>\r\n                           </ListGroup.Item>\r\n\r\n                           <ListGroup.Item>\r\n                               <Row>\r\n                                   <Col>주문 총액</Col>\r\n                                   <Col>{order.totalPrice}원</Col>\r\n                               </Row>\r\n                           </ListGroup.Item>\r\n\r\n\r\n                       </ListGroup>\r\n                   </Card>\r\n               </Col>\r\n           </Row>\r\n    </>\r\n}\r\n\r\nexport default OrderScreen\r\n"]},"metadata":{},"sourceType":"module"}